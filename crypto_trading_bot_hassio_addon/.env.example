# =====================================================================
# Crypto Trading Bot (Binance Spot) – variabili per test locale
# Copia questo file in .env e compila i tuoi valori.
# =====================================================================

# Flag interno: indica che il bot gira in locale (non dentro Home Assistant).
# Non modificare: serve a run.sh per saltare bashio::config e leggere
# le variabili direttamente dall'ambiente.
LOCAL_DEPLOY=true

# ── Credenziali Binance ───────────────────────────────────────────────
# API_KEY   : chiave API del tuo account Binance (o Testnet, vedi sotto).
# API_SECRET: secret corrispondente alla chiave API.
#
# Come generarle:
#   LIVE    → binance.com → Gestione account → API Management
#             Permessi minimi: "Read Info" + "Spot & Margin Trading"
#             NON abilitare "Withdrawals" per sicurezza.
#   TESTNET → testnet.binance.vision → login con GitHub → Generate API key
#             Le credenziali Testnet sono SEPARATE dall'account reale.
API_KEY=your_binance_api_key
API_SECRET=your_binance_api_secret

# Modalità paper trading (Testnet):
# "true"  → usa Binance Testnet (nessun soldo reale – consigliato per iniziare)
# "false" → usa Binance LIVE (SOLDI REALI – usare con estrema cautela)
PAPER_TRADING=true

# ── Simboli ───────────────────────────────────────────────────────────
# Lista separata da virgole delle coppie crypto da monitorare.
# Usa sempre il formato Binance Spot (base + quote senza separatore).
# Es. BTCUSDT, ETHUSDT, SOLUSDT, BNBUSDT, ADAUSDT
# Nota: la coppia di quotazione è sempre USDT.
SYMBOLS=BTCUSDT,ETHUSDT

# ── Timeframe ─────────────────────────────────────────────────────────
# Dimensione delle candele usate dalla strategia (in minuti).
# Valori supportati: 15, 30, 60
# 15 → più segnali, più rumore; 60 → meno segnali, trend più solidi.
TIMEFRAME=15

# ── Gestione del rischio ───────────────────────────────────────────────
# Capitale massimo in USDT da allocare per singola posizione.
# Es. 100 = al massimo 100 USDT investiti per trade.
MAX_POSITION_VALUE_USDT=100

# Stop loss percentuale: la posizione viene chiusa in perdita se il prezzo
# scende di questa percentuale dal prezzo di entrata.
# Es. 2.0 = stop loss al -2% dall'entrata.
STOP_LOSS_PCT=2.0

# Take profit percentuale: la posizione viene chiusa in profitto se il prezzo
# sale di questa percentuale dal prezzo di entrata.
# Es. 4.0 = take profit al +4% dall'entrata.
TAKE_PROFIT_PCT=4.0

# Perdita giornaliera massima del portafoglio: se il valore totale scende
# di questa percentuale rispetto all'inizio della giornata (UTC 00:00),
# il bot smette di aprire nuove posizioni fino a mezzanotte UTC.
# Es. 5.0 = blocco automatico al -5% di portfolio giornaliero.
MAX_DAILY_LOSS_PCT=5.0

# ── Tempistiche ───────────────────────────────────────────────────────
# Intervallo in secondi del loop principale: ogni quanti secondi il bot
# controlla segnali, aggiorna posizioni e scarica comandi Telegram.
# Valori consigliati: 30–60 secondi.
CHECK_INTERVAL=60

# Minuti di attesa dopo la chiusura di una posizione prima di poter
# rientrare sullo stesso simbolo. Evita re-entry immediati su falsi segnali.
# Es. 30 = dopo aver chiuso BTCUSDT, aspetta 30 min prima di riaprirlo.
COOLDOWN_MINUTES=30

# ── Integrazione Telegram (opzionale) ─────────────────────────────────
# Per abilitare le notifiche e i comandi Telegram, è necessario deployare
# il servizio relay su Render (cartella telegram_bot/) e poi compilare
# le due variabili qui sotto.
# Lasciare TELEGRAM_RELAY_URL vuoto per disabilitare completamente Telegram.
#
# TELEGRAM_RELAY_URL: URL pubblico del servizio Render.
#   Il bot lo usa per inviare notifiche (POST /api/notify) e
#   per scaricare i comandi in coda (GET /api/commands).
#   Es. https://trading-bot-telegram-relay.onrender.com
TELEGRAM_RELAY_URL=

# TELEGRAM_API_KEY: chiave segreta condivisa tra il bot e il relay Render.
#   Deve essere identica alla variabile RELAY_API_KEY impostata
#   nel dashboard di Render. Protegge gli endpoint /api/* da accessi
#   non autorizzati (header X-API-Key).
#   Può essere lo stesso relay del day trading bot (se già deployato).
TELEGRAM_API_KEY=
